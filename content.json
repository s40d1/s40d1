{"pages":[{"title":"About","date":"2020-06-25T16:59:45.456Z","path":"about/index.html","text":""},{"title":"Categories","date":"2020-06-25T16:59:45.457Z","path":"categories/index.html","text":""},{"title":"Tags","date":"2020-06-25T16:59:45.458Z","path":"tags/index.html","text":""}],"posts":[{"title":"","date":"2020-06-25T17:35:03.345Z","path":"wiki/渗透测试/IOT渗透/病毒初级应急响应/","text":"[toc] 常见病毒类型和特点常见分类蠕虫文件夹 飞客蠕虫（conficker）445端口传播，利用MS08-076漏洞发起攻击。中毒症状包括请求解析随机域名（DGA）、不能正常访问安全厂商的网站或服务器、下载木马。详情 文件夹蠕虫（FakeFolder）设置源文件夹隐藏属性，并且自己伪装成文件夹，通过修改注册表系统属性，通常通过共享、U盘传播。 Morto蠕虫通过RDP爆破传播，通过注册表、服务等进行驻留。 NetSky蠕虫获取本地邮箱地址，通过邮件服务器传播包含病毒体的邮件 挖矿病毒Wannamine系列木马感染型病毒（不能做清除，而是做修复）Ramnit感染html文件，插入vbs脚本，会进行客户端vbs脚本传播。详情 宏病毒文档类， 勒索病毒感染文件，勒索赎金，没办法破解 应急工具基础工具Process Hacker procexp &gt; 进程操作，服务操作Autoruns &gt; 计划任务，启动项，服务，WMIEverything &gt; 文件搜索PChunter &gt; 文件，驱动（驱动型工具，可以绕过应用层的防护） 进阶工具Sysmon安装：Sysmon.exe -acceptula -i -n日志路径：%system%\\system32\\winevt\\logs\\microsoft-windows=sysmon%4Operational.evtx卸载：sysmon.exe -u 流行病毒查杀思路勒索时间信息收集是否正在进行加密“徒手杀毒”招式分解观察对象恶意软件商最爱的目录排行快速判断文件“黑白”安全软件报出的文件判断木马类 - Trojan Backdoop如果不是业务程序软件，建议隔离四段式：Trojan.Win32.Wannamine.ufajg其他：TR/Lokibot.gen 借助威胁情报判断文件威胁通过沙箱判断行为其他补充技巧 图标和文件类型是否对应 看似正常系统文件，看MD5 是否具有签名 强壳、混淆 常见应急工具## 分析工具Process Hacker常见病毒处置常见挖矿病毒处置中挖矿木马的计算机，资源会被大量占用，用于数字加密币的挖掘。 挖矿病毒的原理stratum协议是目前最常用的矿机和矿池之间的TCP协议。以下是挖矿的网络结构： 挖矿病毒分析一般挖矿病毒的最明显特征：进程资源占用高50%/25%/100%，可通过判断通信地址为矿池来判断终端可能再进行挖矿。验证挖矿主机常用以下工具： 微步在线 搜索引擎 wireshark、tcpdump等抓包工具 发现挖矿程序，一般会伴随着自启动操作。服务：tasklist /svc、process hacker 1HKEY_LOCAL_MACHINE\\SYSTEM\\Microsoft\\WindowsNT\\CurrentControlSet\\Services 任务计划：taskschd.msc 启动项：VMI：autoruns/wbemtestIPSec：deny445Rookit隐藏：驱动隐藏、attrib -r -s -h、cacls、“file” /g administrator:f","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"IOT渗透","slug":"渗透测试/IOT渗透","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/IOT%E6%B8%97%E9%80%8F/"}]},{"title":"","date":"2020-06-25T17:35:03.343Z","path":"wiki/渗透测试/IOT渗透/Windows应急响应排查/","text":"[toc] 一、进程排查独立进程块病毒是独立的可执行文件，以独立进程运行。进程名要么随机，要么相似于系统进程 动态库模块以动态库的方式注入到系统进程和应用程序。 隐藏模块二、网络行为排查重要辅助站点 https://www.virustotal.com/国外知名站点网络连接排查流量分析漏洞与补丁信息三、文件排查临时目录排查 浏览器相关文件排查最近打开文件排查文件时间排查其他重要目录查询system32也是常见的病毒释放目录，需检查hosts文件有没有被篡改。 12C:\\Windows\\System32C:\\Windows\\System32\\drivers\\etc\\hosts 四、远程登录排查Windows日志RDP远程登录排查SMB五、启动方式排查启动项排查任务计划排查服务排查六、账号安全排查compmgmt.msc命令查看计算机上所有用户信息net user 用户名 命令查看指定用户信息 通过PCHunter等工具可以查看隐藏用户，如添加$的隐藏账号，以及克隆账号。","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"IOT渗透","slug":"渗透测试/IOT渗透","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/IOT%E6%B8%97%E9%80%8F/"}]},{"title":"","date":"2020-06-25T17:35:03.333Z","path":"wiki/渗透测试/IOT渗透/Windows系统监控Sysmon/","text":"[toc] sysmon简介用于监视和记录系统活动，并记录到Windows时间日志，可提供有关进程的创建、网络连接和文件创建时间更改的详细信息。通过集成Windows事件集合或SIEM代理生成的事件，然后分析他们，可识别恶意或异常活动，并了解在网络上是如何的恶意操作。 安装与配置安装命令： 1Sysmon64.exe -acceptula -i z-AlphaVersion.xml 日志分析","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"IOT渗透","slug":"渗透测试/IOT渗透","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/IOT%E6%B8%97%E9%80%8F/"}]},{"title":"","date":"2020-06-25T17:35:03.331Z","path":"wiki/渗透测试/IOT渗透/web初级应急响应/","text":"[toc] web入侵简介web入侵流程信息收集 &gt; 漏洞扫描 &gt; 渗透攻击 &gt; 提权/挂黑链 &gt; 后渗透攻击 &gt; 持续控制 web入侵方法 通过web脚本或框架的漏洞获取webshell 通过获取cms的后台账号密码并登录 通过数据库开放的端口作为入口，爆破或猜解进入 通过web脚本或框架漏洞获取敏感权限或数据web恶意代码事件 WEBSHELL 黑链广告文件 恶意挂马页面web应用应急响应流程确认攻击类型 &gt; 异常信息收集 &gt; 排查黑链 &gt; 排查webshell &gt; 分析web日志 &gt; 时间总结web应急响应需要处理的问题 发现黑链/暗链跳转等被篡改现象 发现webshell等黑帽SEO-黑链SEO-搜索引擎优化利用搜索引擎的规则提高有关搜索引擎内的自然排名SEO目的搜索结果排名靠前SEO帽子白：遵循规则进行网络推广黑：不遵循规则黑帽SEO-黑链 黑链的排查思路复现黑链存在的现象（搜索引擎复现、多地域访问、终端及服务器端抓包） Webshell查杀Webshellwebshell是以asp、php、jsp或者cgi等网页文件形式存在的一种命令执行环境，也可以将其称做为一种网页后门。黑客在入侵了一个网站后门，通常会将asp或php后门文件与网站服务器WEB目录下正常的网页文件混在一起，然后就可以使用浏览器来访问asp或者php后门，得到一个命令执行环境，以达到控制网站服务器的目的。 常见工具 名称 平台 下载 D盾 Windows http://www.d99net.net/ 悬镜（慎用） Linux http://www.xmirror.cn/ 360主机卫士 Windows/Linux http://zhuji.360.cn/ webshell.pub Windows/Linux http://www.webshell.pub/ 安全狗 Windows/Linux http://www.safedog.cn/ Sangfor WebshellKiller 3.2 Windows/Linux ### 查杀方法 #### 工具扫描 #### 文件属性（创建时间、修改时间） #### 文件特征（静态特征、动态特征） #### 文件对比 #### 搜索引擎 将代码拖去搜索引擎搜索是否为webshell。 确认webshell之后删除即可 ## Web应急案例讲解 ### ## 日志分析 ### 1.Windows日志分析 2.Web日志分析web日志分类常规日志分析主要关注 1102 &gt; 清理审计日志 4624 &gt; 账号登录成功 4625 &gt; 账号登录失败","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"IOT渗透","slug":"渗透测试/IOT渗透","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/IOT%E6%B8%97%E9%80%8F/"}]},{"title":"","date":"2020-06-25T17:34:53.099Z","path":"wiki/渗透测试/Web渗透/病毒初级应急响应/","text":"[toc] 常见病毒类型和特点常见分类蠕虫文件夹 飞客蠕虫（conficker）445端口传播，利用MS08-076漏洞发起攻击。中毒症状包括请求解析随机域名（DGA）、不能正常访问安全厂商的网站或服务器、下载木马。详情 文件夹蠕虫（FakeFolder）设置源文件夹隐藏属性，并且自己伪装成文件夹，通过修改注册表系统属性，通常通过共享、U盘传播。 Morto蠕虫通过RDP爆破传播，通过注册表、服务等进行驻留。 NetSky蠕虫获取本地邮箱地址，通过邮件服务器传播包含病毒体的邮件 挖矿病毒Wannamine系列木马感染型病毒（不能做清除，而是做修复）Ramnit感染html文件，插入vbs脚本，会进行客户端vbs脚本传播。详情 宏病毒文档类， 勒索病毒感染文件，勒索赎金，没办法破解 应急工具基础工具Process Hacker procexp &gt; 进程操作，服务操作Autoruns &gt; 计划任务，启动项，服务，WMIEverything &gt; 文件搜索PChunter &gt; 文件，驱动（驱动型工具，可以绕过应用层的防护） 进阶工具Sysmon安装：Sysmon.exe -acceptula -i -n日志路径：%system%\\system32\\winevt\\logs\\microsoft-windows=sysmon%4Operational.evtx卸载：sysmon.exe -u 流行病毒查杀思路勒索时间信息收集是否正在进行加密“徒手杀毒”招式分解观察对象恶意软件商最爱的目录排行快速判断文件“黑白”安全软件报出的文件判断木马类 - Trojan Backdoop如果不是业务程序软件，建议隔离四段式：Trojan.Win32.Wannamine.ufajg其他：TR/Lokibot.gen 借助威胁情报判断文件威胁通过沙箱判断行为其他补充技巧 图标和文件类型是否对应 看似正常系统文件，看MD5 是否具有签名 强壳、混淆 常见应急工具## 分析工具Process Hacker常见病毒处置常见挖矿病毒处置中挖矿木马的计算机，资源会被大量占用，用于数字加密币的挖掘。 挖矿病毒的原理stratum协议是目前最常用的矿机和矿池之间的TCP协议。以下是挖矿的网络结构： 挖矿病毒分析一般挖矿病毒的最明显特征：进程资源占用高50%/25%/100%，可通过判断通信地址为矿池来判断终端可能再进行挖矿。验证挖矿主机常用以下工具： 微步在线 搜索引擎 wireshark、tcpdump等抓包工具 发现挖矿程序，一般会伴随着自启动操作。服务：tasklist /svc、process hacker 1HKEY_LOCAL_MACHINE\\SYSTEM\\Microsoft\\WindowsNT\\CurrentControlSet\\Services 任务计划：taskschd.msc 启动项：VMI：autoruns/wbemtestIPSec：deny445Rookit隐藏：驱动隐藏、attrib -r -s -h、cacls、“file” /g administrator:f","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"Web渗透","slug":"渗透测试/Web渗透","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/Web%E6%B8%97%E9%80%8F/"}]},{"title":"","date":"2020-06-25T17:34:53.097Z","path":"wiki/渗透测试/Web渗透/Windows应急响应排查/","text":"[toc] 一、进程排查独立进程块病毒是独立的可执行文件，以独立进程运行。进程名要么随机，要么相似于系统进程 动态库模块以动态库的方式注入到系统进程和应用程序。 隐藏模块二、网络行为排查重要辅助站点 https://www.virustotal.com/国外知名站点网络连接排查流量分析漏洞与补丁信息三、文件排查临时目录排查 浏览器相关文件排查最近打开文件排查文件时间排查其他重要目录查询system32也是常见的病毒释放目录，需检查hosts文件有没有被篡改。 12C:\\Windows\\System32C:\\Windows\\System32\\drivers\\etc\\hosts 四、远程登录排查Windows日志RDP远程登录排查SMB五、启动方式排查启动项排查任务计划排查服务排查六、账号安全排查compmgmt.msc命令查看计算机上所有用户信息net user 用户名 命令查看指定用户信息 通过PCHunter等工具可以查看隐藏用户，如添加$的隐藏账号，以及克隆账号。","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"Web渗透","slug":"渗透测试/Web渗透","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/Web%E6%B8%97%E9%80%8F/"}]},{"title":"","date":"2020-06-25T17:34:53.095Z","path":"wiki/渗透测试/Web渗透/Windows系统监控Sysmon/","text":"[toc] sysmon简介用于监视和记录系统活动，并记录到Windows时间日志，可提供有关进程的创建、网络连接和文件创建时间更改的详细信息。通过集成Windows事件集合或SIEM代理生成的事件，然后分析他们，可识别恶意或异常活动，并了解在网络上是如何的恶意操作。 安装与配置安装命令： 1Sysmon64.exe -acceptula -i z-AlphaVersion.xml 日志分析","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"Web渗透","slug":"渗透测试/Web渗透","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/Web%E6%B8%97%E9%80%8F/"}]},{"title":"","date":"2020-06-25T17:34:53.093Z","path":"wiki/渗透测试/Web渗透/web初级应急响应/","text":"[toc] web入侵简介web入侵流程信息收集 &gt; 漏洞扫描 &gt; 渗透攻击 &gt; 提权/挂黑链 &gt; 后渗透攻击 &gt; 持续控制 web入侵方法 通过web脚本或框架的漏洞获取webshell 通过获取cms的后台账号密码并登录 通过数据库开放的端口作为入口，爆破或猜解进入 通过web脚本或框架漏洞获取敏感权限或数据web恶意代码事件 WEBSHELL 黑链广告文件 恶意挂马页面web应用应急响应流程确认攻击类型 &gt; 异常信息收集 &gt; 排查黑链 &gt; 排查webshell &gt; 分析web日志 &gt; 时间总结web应急响应需要处理的问题 发现黑链/暗链跳转等被篡改现象 发现webshell等黑帽SEO-黑链SEO-搜索引擎优化利用搜索引擎的规则提高有关搜索引擎内的自然排名SEO目的搜索结果排名靠前SEO帽子白：遵循规则进行网络推广黑：不遵循规则黑帽SEO-黑链 黑链的排查思路复现黑链存在的现象（搜索引擎复现、多地域访问、终端及服务器端抓包） Webshell查杀Webshellwebshell是以asp、php、jsp或者cgi等网页文件形式存在的一种命令执行环境，也可以将其称做为一种网页后门。黑客在入侵了一个网站后门，通常会将asp或php后门文件与网站服务器WEB目录下正常的网页文件混在一起，然后就可以使用浏览器来访问asp或者php后门，得到一个命令执行环境，以达到控制网站服务器的目的。 常见工具 名称 平台 下载 D盾 Windows http://www.d99net.net/ 悬镜（慎用） Linux http://www.xmirror.cn/ 360主机卫士 Windows/Linux http://zhuji.360.cn/ webshell.pub Windows/Linux http://www.webshell.pub/ 安全狗 Windows/Linux http://www.safedog.cn/ Sangfor WebshellKiller 3.2 Windows/Linux ### 查杀方法 #### 工具扫描 #### 文件属性（创建时间、修改时间） #### 文件特征（静态特征、动态特征） #### 文件对比 #### 搜索引擎 将代码拖去搜索引擎搜索是否为webshell。 确认webshell之后删除即可 ## Web应急案例讲解 ### ## 日志分析 ### 1.Windows日志分析 2.Web日志分析web日志分类常规日志分析主要关注 1102 &gt; 清理审计日志 4624 &gt; 账号登录成功 4625 &gt; 账号登录失败","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"Web渗透","slug":"渗透测试/Web渗透","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/Web%E6%B8%97%E9%80%8F/"}]},{"title":"","date":"2020-06-25T17:34:46.473Z","path":"wiki/渗透测试/Windows应急响应排查/","text":"[toc] 一、进程排查独立进程块病毒是独立的可执行文件，以独立进程运行。进程名要么随机，要么相似于系统进程 动态库模块以动态库的方式注入到系统进程和应用程序。 隐藏模块二、网络行为排查重要辅助站点 https://www.virustotal.com/国外知名站点网络连接排查流量分析漏洞与补丁信息三、文件排查临时目录排查 浏览器相关文件排查最近打开文件排查文件时间排查其他重要目录查询system32也是常见的病毒释放目录，需检查hosts文件有没有被篡改。 12C:\\Windows\\System32C:\\Windows\\System32\\drivers\\etc\\hosts 四、远程登录排查Windows日志RDP远程登录排查SMB五、启动方式排查启动项排查任务计划排查服务排查六、账号安全排查compmgmt.msc命令查看计算机上所有用户信息net user 用户名 命令查看指定用户信息 通过PCHunter等工具可以查看隐藏用户，如添加$的隐藏账号，以及克隆账号。","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}]},{"title":"","date":"2020-06-25T17:34:46.472Z","path":"wiki/渗透测试/Windows系统监控Sysmon/","text":"[toc] sysmon简介用于监视和记录系统活动，并记录到Windows时间日志，可提供有关进程的创建、网络连接和文件创建时间更改的详细信息。通过集成Windows事件集合或SIEM代理生成的事件，然后分析他们，可识别恶意或异常活动，并了解在网络上是如何的恶意操作。 安装与配置安装命令： 1Sysmon64.exe -acceptula -i z-AlphaVersion.xml 日志分析","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}]},{"title":"","date":"2020-06-25T17:34:46.470Z","path":"wiki/渗透测试/web初级应急响应/","text":"[toc] web入侵简介web入侵流程信息收集 &gt; 漏洞扫描 &gt; 渗透攻击 &gt; 提权/挂黑链 &gt; 后渗透攻击 &gt; 持续控制 web入侵方法 通过web脚本或框架的漏洞获取webshell 通过获取cms的后台账号密码并登录 通过数据库开放的端口作为入口，爆破或猜解进入 通过web脚本或框架漏洞获取敏感权限或数据web恶意代码事件 WEBSHELL 黑链广告文件 恶意挂马页面web应用应急响应流程确认攻击类型 &gt; 异常信息收集 &gt; 排查黑链 &gt; 排查webshell &gt; 分析web日志 &gt; 时间总结web应急响应需要处理的问题 发现黑链/暗链跳转等被篡改现象 发现webshell等黑帽SEO-黑链SEO-搜索引擎优化利用搜索引擎的规则提高有关搜索引擎内的自然排名SEO目的搜索结果排名靠前SEO帽子白：遵循规则进行网络推广黑：不遵循规则黑帽SEO-黑链 黑链的排查思路复现黑链存在的现象（搜索引擎复现、多地域访问、终端及服务器端抓包） Webshell查杀Webshellwebshell是以asp、php、jsp或者cgi等网页文件形式存在的一种命令执行环境，也可以将其称做为一种网页后门。黑客在入侵了一个网站后门，通常会将asp或php后门文件与网站服务器WEB目录下正常的网页文件混在一起，然后就可以使用浏览器来访问asp或者php后门，得到一个命令执行环境，以达到控制网站服务器的目的。 常见工具 名称 平台 下载 D盾 Windows http://www.d99net.net/ 悬镜（慎用） Linux http://www.xmirror.cn/ 360主机卫士 Windows/Linux http://zhuji.360.cn/ webshell.pub Windows/Linux http://www.webshell.pub/ 安全狗 Windows/Linux http://www.safedog.cn/ Sangfor WebshellKiller 3.2 Windows/Linux ### 查杀方法 #### 工具扫描 #### 文件属性（创建时间、修改时间） #### 文件特征（静态特征、动态特征） #### 文件对比 #### 搜索引擎 将代码拖去搜索引擎搜索是否为webshell。 确认webshell之后删除即可 ## Web应急案例讲解 ### ## 日志分析 ### 1.Windows日志分析 2.Web日志分析web日志分类常规日志分析主要关注 1102 &gt; 清理审计日志 4624 &gt; 账号登录成功 4625 &gt; 账号登录失败","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}]},{"title":"风险评估相关概念","date":"2020-06-25T16:13:37.000Z","path":"wiki/安全服务/风险评估/风险评估相关概念/","text":"0x00 风险的起源“风险”一次来源已久。最普通的说法是：以打鱼为生的渔民们，每次出行前都要祈祷，祈求神灵保佑自己平安归来。其中祈祷的主要内容就是让神灵保佑自己在出海时候能够风平浪静、满载而归；域名们在长期的捕捞实践中，深深的体会到“风”给他们带来的无法预测和无法确定的危险，在出海打渔的过程中的，“风”即意味着显“险”，“风险”一词因此而得来。 0x01 风险的定义在信息安全，风险（risk）就是指各种威胁导致安全事件发生的可能性及其对组织所造成的负面影响。 0x02 风险的特性 客观性：不以人的意志为转移的客观存在。 必然性：伴随着事物发展不可避免。 社会性：后果对社会的影响很大。（如：天灾人祸） 普遍性：存在于事物之中，贯穿于整个生命的周期。 相对性：因时空等元素变化而变化。 时效性：风险随着时间的推移而产生变化。 不确定性：发生时间、损失、是否发生都不确定。 损失性：风险事件存在，就有造成损失的可能性。 可识别性：通过分析事物的内外因素，可识别风险。 可控性：采取一定的控制措施，可以把风险损失控制在一定的范围内。其中8、9、10可以解释为什么要研究风险。","tags":[{"name":"风险评估 概念","slug":"风险评估-概念","permalink":"https://s40d1.github.io/tags/%E9%A3%8E%E9%99%A9%E8%AF%84%E4%BC%B0-%E6%A6%82%E5%BF%B5/"}],"categories":[{"name":"安全服务","slug":"安全服务","permalink":"https://s40d1.github.io/categories/%E5%AE%89%E5%85%A8%E6%9C%8D%E5%8A%A1/"},{"name":"风险评估","slug":"安全服务/风险评估","permalink":"https://s40d1.github.io/categories/%E5%AE%89%E5%85%A8%E6%9C%8D%E5%8A%A1/%E9%A3%8E%E9%99%A9%E8%AF%84%E4%BC%B0/"}]},{"title":"Hello World","date":"2020-06-24T02:08:49.252Z","path":"wiki/渗透测试/IOT渗透/新建文本文档/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"IOT渗透","slug":"渗透测试/IOT渗透","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/IOT%E6%B8%97%E9%80%8F/"}]},{"title":"article title","date":"2020-06-23T16:13:37.000Z","path":"wiki/渗透测试/第一篇文章/","text":"第一篇文章","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}]},{"title":"病毒初级应急响应","date":"2020-06-23T16:13:37.000Z","path":"wiki/渗透测试/病毒初级应急响应/","text":"[toc] 常见病毒类型和特点常见分类蠕虫文件夹 飞客蠕虫（conficker）445端口传播，利用MS08-076漏洞发起攻击。中毒症状包括请求解析随机域名（DGA）、不能正常访问安全厂商的网站或服务器、下载木马。详情 文件夹蠕虫（FakeFolder）设置源文件夹隐藏属性，并且自己伪装成文件夹，通过修改注册表系统属性，通常通过共享、U盘传播。 Morto蠕虫通过RDP爆破传播，通过注册表、服务等进行驻留。 NetSky蠕虫获取本地邮箱地址，通过邮件服务器传播包含病毒体的邮件 挖矿病毒Wannamine系列木马感染型病毒（不能做清除，而是做修复）Ramnit感染html文件，插入vbs脚本，会进行客户端vbs脚本传播。详情 宏病毒文档类， 勒索病毒感染文件，勒索赎金，没办法破解 应急工具基础工具Process Hacker procexp &gt; 进程操作，服务操作Autoruns &gt; 计划任务，启动项，服务，WMIEverything &gt; 文件搜索PChunter &gt; 文件，驱动（驱动型工具，可以绕过应用层的防护） 进阶工具Sysmon安装：Sysmon.exe -acceptula -i -n日志路径：%system%\\system32\\winevt\\logs\\microsoft-windows=sysmon%4Operational.evtx卸载：sysmon.exe -u 流行病毒查杀思路勒索时间信息收集是否正在进行加密“徒手杀毒”招式分解观察对象恶意软件商最爱的目录排行快速判断文件“黑白”安全软件报出的文件判断木马类 - Trojan Backdoop如果不是业务程序软件，建议隔离四段式：Trojan.Win32.Wannamine.ufajg其他：TR/Lokibot.gen 借助威胁情报判断文件威胁通过沙箱判断行为其他补充技巧 图标和文件类型是否对应 看似正常系统文件，看MD5 是否具有签名 强壳、混淆 常见应急工具## 分析工具Process Hacker常见病毒处置常见挖矿病毒处置中挖矿木马的计算机，资源会被大量占用，用于数字加密币的挖掘。 挖矿病毒的原理stratum协议是目前最常用的矿机和矿池之间的TCP协议。以下是挖矿的网络结构： 挖矿病毒分析一般挖矿病毒的最明显特征：进程资源占用高50%/25%/100%，可通过判断通信地址为矿池来判断终端可能再进行挖矿。验证挖矿主机常用以下工具： 微步在线 搜索引擎 wireshark、tcpdump等抓包工具 发现挖矿程序，一般会伴随着自启动操作。服务：tasklist /svc、process hacker 1HKEY_LOCAL_MACHINE\\SYSTEM\\Microsoft\\WindowsNT\\CurrentControlSet\\Services 任务计划：taskschd.msc 启动项：VMI：autoruns/wbemtestIPSec：deny445Rookit隐藏：驱动隐藏、attrib -r -s -h、cacls、“file” /g administrator:f","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}]},{"title":"article title","date":"2020-06-23T16:13:37.000Z","path":"wiki/渗透测试/IOT渗透/第一篇文章/","text":"第一篇文章","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"IOT渗透","slug":"渗透测试/IOT渗透","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/IOT%E6%B8%97%E9%80%8F/"}]},{"title":"article title","date":"2020-06-23T16:13:37.000Z","path":"wiki/风险评估/第一篇文章/","text":"第一篇文章","tags":[],"categories":[{"name":"风险评估","slug":"风险评估","permalink":"https://s40d1.github.io/categories/%E9%A3%8E%E9%99%A9%E8%AF%84%E4%BC%B0/"}]},{"title":"article title","date":"2020-06-23T16:13:37.000Z","path":"wiki/CTF/第一篇文章/","text":"第一篇文章","tags":[],"categories":[{"name":"CTF","slug":"CTF","permalink":"https://s40d1.github.io/categories/CTF/"}]},{"title":"article title","date":"2020-06-23T16:13:37.000Z","path":"wiki/红蓝对抗/第一篇文章/","text":"第一篇文章","tags":[],"categories":[{"name":"红蓝对抗","slug":"红蓝对抗","permalink":"https://s40d1.github.io/categories/%E7%BA%A2%E8%93%9D%E5%AF%B9%E6%8A%97/"}]},{"title":"article title","date":"2020-06-23T16:13:37.000Z","path":"wiki/代码审计/第一篇文章/","text":"第一篇文章","tags":[],"categories":[{"name":"代码审计","slug":"代码审计","permalink":"https://s40d1.github.io/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"}]},{"title":"article title","date":"2020-06-23T16:13:37.000Z","path":"wiki/渗透测试/Web渗透/第一篇文章/","text":"第一篇文章","tags":[],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"Web渗透","slug":"渗透测试/Web渗透","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/Web%E6%B8%97%E9%80%8F/"}]},{"title":"article title","date":"2020-06-23T16:13:37.000Z","path":"wiki/攻防演练/第一篇文章/","text":"第一篇文章","tags":[],"categories":[{"name":"攻防演练","slug":"攻防演练","permalink":"https://s40d1.github.io/categories/%E6%94%BB%E9%98%B2%E6%BC%94%E7%BB%83/"}]},{"title":"正则表达式30分钟入门40分钟进阶","date":"2020-06-23T16:13:37.000Z","path":"wiki/安全开发/正则表达式30分钟入门40分钟进阶/","text":"正则练习网址： https://www.codejiaonang.com/正则在线测试网站： https://regexr-cn.com/ 一、正则表达式入门1.1字符组正则表达式中字符组使用中括号（[]）包裹，作用是匹配中括号里面的元素任意一次。如下： 1.1.1字符组中横杠（-）表示区间字符组中可以使用横杠来表示区间，省去大量写操作。如图： 1.1.2特殊字符需转义如果需要再字符组内对横杠(包括其他特殊字符)进行匹配，需要再“-”前面加上转义字符： 1.1.3取反如果不想取某一类字符可使用“^”对其取反，如下图： 总结 1.2快捷方式1.2.1 \\d匹配数字 \\w匹配字符(特殊字符除外)\\d表示匹配所有数字，\\w表示匹配所有字符，如下图： 1.2.2 \\s匹配空格可以使用\\s来匹配空格和缩进： 1.2.3匹配单词边界匹配内容中完整的单词： 1.2.4快捷方式取反将\\W为\\w的取反，\\D为\\d的取反，\\S为\\s的取反。如： 1.2.4开始和结束目标前使用^可以匹配开始位置字符，在目标后使用$可以匹配结束位置的字符： 1.2.5任意字符使用点（.）可以匹配任意字符（除换行符即\\n）： 1.2.6 可选字符匹配一个可以出现也可以不出现的字符： 总结 1.3匹配多个数据1.3.1 重复次数在所需要匹配的字符后面加上大括号，里面填充数字，这个数字表示重复的次数： 1.3.2 重复区间使用大括号内的数字区间可匹配响应范围个数的字符：如果在后面加上了?，就会只匹配区间开始数量的字符，在这里?表示非贪婪模式：如果大括号使用前闭后开的形式，表示匹配第一元素开始以上的内容： 1.3.3 开闭区间+相当于{1，}，*相当于{0，}： 1.3.4 匹配所有手机号码 1.3.4 匹配所有网址 二、正则表达式进阶2.1分组与溯回引用2.1.1分组在正则表达式中还提供了一种将表达式分组的机制，当使用分组时，除了获得整个匹配。还能够在匹配中选择每一个分组。要实现分组使用()即可。如下： 2.1.2 或者条件使用分组的同时还可以使用 或者（or）条件： 2.1.3 非捕获分组有时候，我们并不需要捕获某个分组的内容，但是又想使用分组的特性。这个时候就可以使用非捕获组(?:表达式)，从而不捕获数据，还能使用分组的功能。 2.1.4 回溯引用那如果想让后面分组的正则和第一个分组的正则匹配同样的数据可以使用分组的回溯引用，使用\\N可以引用编号为N的分组，如下： 2.2先行断言2.2.1 正向先行断言正向先行断言：(?=表达式)，指在某个位置向右看，表示所在位置右侧必须能匹配表达式，但只提取该位置的数据： 2.2.1 反向先行断言反向先行断言(?!表达式)的作用是保证右边不能出现某字符 2.3后行断言正向后行断言正向后行断言：(?&lt;=表达式)，指在某个位置向左看，表示所在位置左侧必须能匹配表达式 反向后行断言反向后行断言：(?&lt;!表达式)，指在某个位置向左看，表示所在位置左侧不能匹配表达式","tags":[{"name":"正则 表达式","slug":"正则-表达式","permalink":"https://s40d1.github.io/tags/%E6%AD%A3%E5%88%99-%E8%A1%A8%E8%BE%BE%E5%BC%8F/"}],"categories":[{"name":"安全开发","slug":"安全开发","permalink":"https://s40d1.github.io/categories/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/"}]}],"categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"IOT渗透","slug":"渗透测试/IOT渗透","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/IOT%E6%B8%97%E9%80%8F/"},{"name":"Web渗透","slug":"渗透测试/Web渗透","permalink":"https://s40d1.github.io/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/Web%E6%B8%97%E9%80%8F/"},{"name":"安全服务","slug":"安全服务","permalink":"https://s40d1.github.io/categories/%E5%AE%89%E5%85%A8%E6%9C%8D%E5%8A%A1/"},{"name":"风险评估","slug":"安全服务/风险评估","permalink":"https://s40d1.github.io/categories/%E5%AE%89%E5%85%A8%E6%9C%8D%E5%8A%A1/%E9%A3%8E%E9%99%A9%E8%AF%84%E4%BC%B0/"},{"name":"风险评估","slug":"风险评估","permalink":"https://s40d1.github.io/categories/%E9%A3%8E%E9%99%A9%E8%AF%84%E4%BC%B0/"},{"name":"CTF","slug":"CTF","permalink":"https://s40d1.github.io/categories/CTF/"},{"name":"红蓝对抗","slug":"红蓝对抗","permalink":"https://s40d1.github.io/categories/%E7%BA%A2%E8%93%9D%E5%AF%B9%E6%8A%97/"},{"name":"代码审计","slug":"代码审计","permalink":"https://s40d1.github.io/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"},{"name":"攻防演练","slug":"攻防演练","permalink":"https://s40d1.github.io/categories/%E6%94%BB%E9%98%B2%E6%BC%94%E7%BB%83/"},{"name":"安全开发","slug":"安全开发","permalink":"https://s40d1.github.io/categories/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"风险评估 概念","slug":"风险评估-概念","permalink":"https://s40d1.github.io/tags/%E9%A3%8E%E9%99%A9%E8%AF%84%E4%BC%B0-%E6%A6%82%E5%BF%B5/"},{"name":"正则 表达式","slug":"正则-表达式","permalink":"https://s40d1.github.io/tags/%E6%AD%A3%E5%88%99-%E8%A1%A8%E8%BE%BE%E5%BC%8F/"}]}